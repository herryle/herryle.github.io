<html>
<head>
    <meta charset="utf-8"/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JS使用小技巧总结 | herry&#39;s Blog</title>
<link rel="shortcut icon" href="https://herryle.github.io/favicon.ico?v=1679125095225">
<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.css" rel="stylesheet">
<link rel="stylesheet" href="https://herryle.github.io/styles/main.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

<script src="https://cdn.bootcss.com/highlight.js/9.15.10/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/go.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>

<!-- DEMO JS -->
<script src="media/scripts/index.js"></script>



    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
  <a href="/">
    <div class="navbar-brand">
      <img class="user-avatar" src="/images/avatar.png" alt="头像" />
      <div class="site-name gt-c-content-color-first">
        herry&#39;s Blog
      </div>
    </div>
  </a>
  <button
    class="navbar-toggler"
    type="button"
    data-toggle="collapse"
    data-target="#navbarSupportedContent"
    aria-controls="navbarSupportedContent"
    aria-expanded="false"
    aria-label="Toggle navigation"
  >
    <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <div class="navbar-nav mr-auto" style="text-align: center">
      
      <div class="nav-item">
        
        <a href="/" class="menu gt-a-link">
          首页
        </a>
        
      </div>
      
      <div class="nav-item">
        
        <a href="/archives" class="menu gt-a-link">
          归档
        </a>
        
      </div>
      
      <div class="nav-item">
        
        <a href="/tags" class="menu gt-a-link">
          标签
        </a>
        
      </div>
      
      <div class="nav-item">
        
        <a href="/about" class="menu gt-a-link">
          关于
        </a>
        
      </div>
      
    </div>
  </div>
</nav>

    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    JS使用小技巧总结
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        · 2020-01-01 ·
                    </time>
                    
                        <a href="https://herryle.github.io/tag/jnJ1yjSE2/" class="post-tags">
                            # JavaScript
                        </a>
                    
                </div>
                <div class="post-content">
                    <h3 id="目录">目录</h3>
<ul>
<li>「String Skill」：字符串技巧</li>
<li>「Number Skill」：数值技巧</li>
<li>「Boolean Skill」：布尔技巧</li>
<li>「Array Skill」：数组技巧</li>
<li>「Object Skill」：对象技巧</li>
<li>「Function Skill」：函数技巧</li>
<li>「DOM Skill」：DOM技巧</li>
</ul>
<p>备注</p>
<ul>
<li>代码只作演示用途，不会详细说明ES6语法</li>
<li>如有不明白的语法问题请参考阮一峰老师的《ES6标准入门》</li>
<li>《ES6标准入门》一直保持更新，建议收藏，平时查看</li>
</ul>
<h3 id="string-skill">String Skill</h3>
<h5 id="对比时间">对比时间</h5>
<blockquote>
<p>❝</p>
<p>时间个位数形式需补0</p>
<p>❞</p>
</blockquote>
<pre><code class="language-js">const time1 = &quot;2019-02-14 21:00:00&quot;;
const time2 = &quot;2019-05-01 09:00:00&quot;;
const overtime = time1 &gt; time2;
// overtime =&gt; false
</code></pre>
<h5 id="格式化金钱">格式化金钱</h5>
<pre><code class="language-js">const ThousandNum = num =&gt; num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, &quot;,&quot;);
const money = ThousandNum(20190214);
// money =&gt; &quot;20,190,214&quot;
</code></pre>
<h5 id="生成随机idjs">生成随机IDjs</h5>
<pre><code class="language-js">const RandomId = len =&gt;Math.random().toString(36).substr(3, len);
const id = RandomId(10);
// id =&gt; &quot;jg7zpgiqva&quot;
</code></pre>
<h5 id="生成随机hex色值">生成随机HEX色值</h5>
<pre><code class="language-js">const RandomColor = () =&gt;&quot;#&quot; + Math.floor(Math.random() * 0xffffff).toString(16).padEnd(6, &quot;0&quot;);
const color = RandomColor();
// color =&gt; &quot;#f03665&quot;
</code></pre>
<h5 id="生成星级评分">生成星级评分</h5>
<pre><code class="language-js">const StartScore = rate =&gt;&quot;★★★★★☆☆☆☆☆&quot;.slice(5 - rate, 10 - rate);
const start = StartScore(3);
// start =&gt; &quot;★★★&quot;
</code></pre>
<h5 id="操作url查询参数">操作URL查询参数</h5>
<pre><code class="language-js">const params = new URLSearchParams(location.search.replace(/\?/ig, &quot;&quot;)); // location.search = &quot;?name=young&amp;sex=male&quot;
params.has(&quot;young&quot;); // true
params.get(&quot;sex&quot;); // &quot;male&quot;
</code></pre>
<h3 id="number-skill">Number Skill</h3>
<h5 id="取整">取整</h5>
<blockquote>
<p>❝</p>
<p>代替正数的<code>Math.floor()</code>，代替负数的<code>Math.ceil()</code></p>
<p>❞</p>
</blockquote>
<pre><code class="language-js">const num1 = ~~ 1.69;
const num2 = 1.69 | 0;
const num3 = 1.69 &gt;&gt; 0;
// num1 num2 num3 =&gt; 1 1 1
</code></pre>
<h5 id="补零">补零</h5>
<pre><code>const FillZero = (num, len) =&gt; num.toString().padStart(len, &quot;0&quot;);
const num = FillZero(169, 5);
// num =&gt; &quot;00169&quot;
</code></pre>
<h5 id="转数值">转数值</h5>
<blockquote>
<p>❝</p>
<p>只对<code>null、&quot;&quot;、false、数值字符串</code>有效</p>
<p>❞</p>
</blockquote>
<pre><code class="language-js">const num1 = +null;
const num2 = +&quot;&quot;;
const num3 = +false;
const num4 = +&quot;169&quot;;
// num1 num2 num3 num4 =&gt; 0 0 0 169
</code></pre>
<h5 id="时间戳">时间戳</h5>
<pre><code class="language-js">const timestamp = +newDate(&quot;2019-02-14&quot;);
// timestamp =&gt; 1550102400000
</code></pre>
<h5 id="精确小数">精确小数</h5>
<pre><code class="language-js">const RoundNum = (num, decimal) =&gt;Math.round(num * 10 ** decimal) / 10 ** decimal;
const num = RoundNum(1.69, 1);
// num =&gt; 1.7
</code></pre>
<h5 id="判断奇偶">判断奇偶</h5>
<pre><code class="language-js">const OddEven = num =&gt; !!(num &amp; 1) ? &quot;odd&quot; : &quot;even&quot;;
const num = OddEven(2);
// num =&gt; &quot;even&quot;
</code></pre>
<h5 id="取最小最大值">取最小最大值</h5>
<pre><code class="language-js">const arr = [0, 1, 2];
const min = Math.min(...arr);
const max = Math.max(...arr);
// min max =&gt; 0 2
</code></pre>
<h5 id="生成范围随机数">生成范围随机数</h5>
<pre><code class="language-js">const RandomNum = (min, max) =&gt;Math.floor(Math.random() * (max - min + 1)) + min;
const num = RandomNum(1, 10);
</code></pre>
<h3 id="boolean-skill">Boolean Skill</h3>
<h5 id="短路运算符">短路运算符</h5>
<pre><code class="language-js">const a = d &amp;&amp; 1; // 满足条件赋值：取假运算，从左到右依次判断，遇到假值返回假值，后面不再执行，否则返回最后一个真值
const b = d || 1; // 默认赋值：取真运算，从左到右依次判断，遇到真值返回真值，后面不再执行，否则返回最后一个假值
const c = !d; // 取假赋值：单个表达式转换为true则返回false，否则返回true
</code></pre>
<h5 id="判断数据类型">判断数据类型</h5>
<blockquote>
<p>❝</p>
<p>可判断类型：undefined、null、string、number、boolean、array、object、symbol、date、regexp、function、asyncfunction、arguments、set、map、weakset、weakmap</p>
<p>❞</p>
</blockquote>
<pre><code class="language-js">function DataType(tgt, type) {
    const dataType = Object.prototype.toString.call(tgt).replace(/\[object (\w+)\]/, &quot;$1&quot;).toLowerCase();
    return type ? dataType === type : dataType;
}
DataType(&quot;young&quot;); // &quot;string&quot;
DataType(20190214); // &quot;number&quot;
DataType(true); // &quot;boolean&quot;
DataType([], &quot;array&quot;); // true
DataType({}, &quot;array&quot;); // false
</code></pre>
<h5 id="是否为空数组">是否为空数组</h5>
<pre><code class="language-js">const arr = [];
const flag = Array.isArray(arr) &amp;&amp; !arr.length;
// flag =&gt; true
</code></pre>
<h5 id="是否为空对象">是否为空对象</h5>
<pre><code class="language-js">const obj = {};
const flag = DataType(obj, &quot;object&quot;) &amp;&amp; !Object.keys(obj).length;
// flag =&gt; true
</code></pre>
<h5 id="满足条件时执行">满足条件时执行</h5>
<pre><code class="language-js">const flagA = true; // 条件A
const flagB = false; // 条件B
(flagA || flagB) &amp;&amp; Func(); // 满足A或B时执行
(flagA || !flagB) &amp;&amp; Func(); // 满足A或不满足B时执行
flagA &amp;&amp; flagB &amp;&amp; Func(); // 同时满足A和B时执行
flagA &amp;&amp; !flagB &amp;&amp; Func(); // 满足A且不满足B时执行
</code></pre>
<h5 id="为非假值时执行">为非假值时执行</h5>
<pre><code class="language-js">const flag = false; // undefined、null、&quot;&quot;、0、false、NaN
!flag &amp;&amp; Func();
</code></pre>
<h5 id="数组不为空时执行">数组不为空时执行</h5>
<pre><code class="language-js">const arr = [0, 1, 2];
arr.length &amp;&amp; Func();
</code></pre>
<h5 id="对象不为空时执行">对象不为空时执行</h5>
<pre><code class="language-js">const obj = { a: 0, b: 1, c: 2 };
Object.keys(obj).length &amp;&amp; Func();
</code></pre>
<h5 id="函数退出代替条件分支退出">函数退出代替条件分支退出</h5>
<pre><code class="language-js">if (flag) {
    Func();
    returnfalse;
}
// 换成
if (flag) {
    return Func();
}
</code></pre>
<h5 id="switchcase使用区间">switch/case使用区间</h5>
<pre><code class="language-js">const age = 26;
switch (true) {
    caseisNaN(age):
        console.log(&quot;not a number&quot;);
        break;
    case (age &lt; 18):
        console.log(&quot;under age&quot;);
        break;
    case (age &gt;= 18):
        console.log(&quot;adult&quot;);
        break;
    default:
        console.log(&quot;please set your age&quot;);
        break;
}
</code></pre>
<h3 id="array-skill">Array Skill</h3>
<h5 id="克隆数组">克隆数组</h5>
<pre><code class="language-js">const _arr = [0, 1, 2];
const arr = [..._arr];
// arr =&gt; [0, 1, 2]
</code></pre>
<h5 id="合并数组">合并数组</h5>
<pre><code class="language-js">const arr1 = [0, 1, 2];
const arr2 = [3, 4, 5];
const arr = [...arr1, ...arr2];
// arr =&gt; [0, 1, 2, 3, 4, 5];
</code></pre>
<h5 id="去重数组">去重数组</h5>
<pre><code class="language-js">const arr = [...new Set([0, 1, 1, null, null])];
// arr =&gt; [0, 1, null]
</code></pre>
<h5 id="混淆数组">混淆数组</h5>
<pre><code class="language-js">const arr = [0, 1, 2, 3, 4, 5].slice().sort(() =&gt;Math.random() - .5);
// arr =&gt; [3, 4, 0, 5, 1, 2]
</code></pre>
<h5 id="清空数组">清空数组</h5>
<pre><code class="language-js">const arr = [0, 1, 2];
arr.length = 0;
// arr =&gt; []
</code></pre>
<h5 id="截断数组">截断数组</h5>
<pre><code class="language-js">const arr = [0, 1, 2];
arr.length = 2;
// arr =&gt; [0, 1]
</code></pre>
<h5 id="交换赋值">交换赋值</h5>
<pre><code class="language-js">let a = 0;
let b = 1;
[a, b] = [b, a];
// a b =&gt; 1 0
</code></pre>
<h5 id="过滤空值">过滤空值</h5>
<blockquote>
<p>❝</p>
<p>空值：undefined、null、&quot;&quot;、0、false、NaN</p>
<p>❞</p>
</blockquote>
<pre><code class="language-js">const arr = [undefined, null, &quot;&quot;, 0, false, NaN, 1, 2].filter(Boolean);
// arr =&gt; [1, 2]
</code></pre>
<h5 id="异步累计">异步累计</h5>
<pre><code class="language-js">asyncfunction Func(deps) {
    return deps.reduce(async(t, v) =&gt; {
        const dep = await t;
        const version = await Todo(v);
        dep[v] = version;
        return dep;
    }, Promise.resolve({}));
}
const result = await Func(); // 需在async包围下使用
</code></pre>
<h5 id="数组首部插入成员">数组首部插入成员</h5>
<pre><code class="language-js">let arr = [1, 2]; // 以下方法任选一种
arr.unshift(0);
arr = [0].concat(arr);
arr = [0, ...arr];
// arr =&gt; [0, 1, 2]
</code></pre>
<h5 id="数组尾部插入成员">数组尾部插入成员</h5>
<pre><code class="language-js">let arr = [0, 1]; // 以下方法任选一种
arr.push(2);
arr.concat(2);
arr[arr.length] = 2;
arr = [...arr, 2];
// arr =&gt; [0, 1, 2]
</code></pre>
<h5 id="统计数组成员个数">统计数组成员个数</h5>
<pre><code class="language-js">const arr = [0, 1, 1, 2, 2, 2];
const count = arr.reduce((t, v) =&gt; {
	t[v] = t[v] ? ++t[v] : 1;
	return t;
}, {});
// count =&gt; { 0: 1, 1: 2, 2: 3 }
</code></pre>
<h5 id="解构数组成员嵌套">解构数组成员嵌套</h5>
<pre><code class="language-js">const arr = [0, 1, [2, 3, [4, 5]]];
const [a, b, [c, d, [e, f]]] = arr;
// a b c d e f =&gt; 0 1 2 3 4 5
</code></pre>
<h5 id="解构数组成员别名">解构数组成员别名</h5>
<pre><code class="language-js">const arr = [0, 1, 2];
const { 0: a, 1: b, 2: c } = arr;
// a b c =&gt; 0 1 2
</code></pre>
<h5 id="解构数组成员默认值">解构数组成员默认值</h5>
<pre><code class="language-js">const arr = [0, 1, 2];
const [a, b, c = 3, d = 4] = arr;
// a b c d =&gt; 0 1 2 4
</code></pre>
<h5 id="获取随机数组成员">获取随机数组成员</h5>
<pre><code class="language-js">const arr = [0, 1, 2, 3, 4, 5];
const randomItem = arr[Math.floor(Math.random() * arr.length)];
// randomItem =&gt; 1
</code></pre>
<h5 id="创建指定长度数组">创建指定长度数组</h5>
<pre><code class="language-js">const arr = [...new Array(3).keys()];
// arr =&gt; [0, 1, 2]
</code></pre>
<h5 id="创建指定长度且值相等的数组">创建指定长度且值相等的数组</h5>
<pre><code class="language-js">const arr = newArray(3).fill(0);
// arr =&gt; [0, 0, 0]
</code></pre>
<h5 id="reduce代替map和filter">reduce代替map和filter</h5>
<pre><code class="language-js">const _arr = [0, 1, 2];

// map
const arr = _arr.map(v =&gt; v * 2);
const arr = _arr.reduce((t, v) =&gt; {
    t.push(v * 2);
    return t;
}, []);
// arr =&gt; [0, 2, 4]

// filter
const arr = _arr.filter(v =&gt; v &gt; 0);
const arr = _arr.reduce((t, v) =&gt; {
    v &gt; 0 &amp;&amp; t.push(v);
    return t;
}, []);
// arr =&gt; [1, 2]

// map和filter
const arr = _arr.map(v =&gt; v * 2).filter(v =&gt; v &gt; 2);
const arr = _arr.reduce((t, v) =&gt; {
    v = v * 2;
    v &gt; 2 &amp;&amp; t.push(v);
    return t;
}, []);
// arr =&gt; [4]
</code></pre>
<h3 id="object-skill">Object Skill</h3>
<h5 id="克隆对象">克隆对象</h5>
<pre><code class="language-js">const _obj = { a: 0, b: 1, c: 2 }; // 以下方法任选一种
const obj = { ..._obj };
const obj = JSON.parse(JSON.stringify(_obj));
// obj =&gt; { a: 0, b: 1, c: 2 }
</code></pre>
<h5 id="合并对象">合并对象</h5>
<pre><code class="language-js">const obj1 = { a: 0, b: 1, c: 2 };
const obj2 = { c: 3, d: 4, e: 5 };
const obj = { ...obj1, ...obj2 };
// obj =&gt; { a: 0, b: 1, c: 3, d: 4, e: 5 }
</code></pre>
<h5 id="对象字面量">对象字面量</h5>
<blockquote>
<p>❝</p>
<p>获取环境变量时必用此方法，用它一直爽，一直用它一直爽</p>
<p>❞</p>
</blockquote>
<pre><code>const env = &quot;prod&quot;;
const link = {
    dev: &quot;Development Address&quot;,
    test: &quot;Testing Address&quot;,
    prod: &quot;Production Address&quot;
}[env];
// link =&gt; &quot;Production Address&quot;
</code></pre>
<h5 id="对象变量属性">对象变量属性</h5>
<pre><code class="language-js">const flag = false;
const obj = {
    a: 0,
    b: 1,
    [flag ? &quot;c&quot; : &quot;d&quot;]: 2
};
// obj =&gt; { a: 0, b: 1, d: 2 }
</code></pre>
<h5 id="创建纯空对象">创建纯空对象</h5>
<pre><code class="language-js">const obj = Object.create(null);
Object.prototype.a = 0;
// obj =&gt; {}
</code></pre>
<h5 id="删除对象无用属性">删除对象无用属性</h5>
<pre><code class="language-js">const obj = { a: 0, b: 1, c: 2 }; // 只想拿b和c
const { a, ...rest } = obj;
// rest =&gt; { b: 1, c: 2 }
</code></pre>
<h5 id="解构对象属性嵌套">解构对象属性嵌套</h5>
<pre><code class="language-js">const obj = { a: 0, b: 1, c: { d: 2, e: 3 } };
const { c: { d, e } } = obj;
// d e =&gt; 2 3
</code></pre>
<h5 id="解构对象属性别名">解构对象属性别名</h5>
<pre><code class="language-js">const obj = { a: 0, b: 1, c: 2 };
const { a, b: d, c: e } = obj;
// a d e =&gt; 0 1 2
</code></pre>
<h5 id="解构对象属性默认值">解构对象属性默认值</h5>
<pre><code class="language-js">const obj = { a: 0, b: 1, c: 2 };
const { a, b = 2, d = 3 } = obj;
// a b d =&gt; 0 1 3
</code></pre>
<h3 id="function-skill">Function Skill</h3>
<h5 id="函数自执行">函数自执行</h5>
<pre><code class="language-js">const Func = function() {}(); // 常用

(function() {})(); // 常用
(function() {}()); // 常用
[function() {}()];

+ function() {}();
- function() {}();
~ function() {}();
! function() {}();

newfunction() {};
newfunction() {}();
voidfunction() {}();
typeoffunction() {}();
deletefunction() {}();

1, function() {}();
1 ^ function() {}();
1 &gt; function() {}();
</code></pre>
<h5 id="隐式返回值">隐式返回值</h5>
<blockquote>
<p>❝</p>
<p>只能用于<code>单语句返回值箭头函数</code>，如果返回值是对象必须使用<code>()</code>包住</p>
<p>❞</p>
</blockquote>
<pre><code class="language-js">const Func = function(name) {
    return&quot;I Love &quot; + name;
};
// 换成
const Func = name =&gt;&quot;I Love &quot; + name;
</code></pre>
<h5 id="一次性函数">一次性函数</h5>
<blockquote>
<p>❝</p>
<p>适用于运行一些只需执行一次的初始化代码</p>
<p>❞</p>
</blockquote>
<pre><code class="language-js">function Func() {
    console.log(&quot;x&quot;);
    Func = function() {
        console.log(&quot;y&quot;);
    }
}
</code></pre>
<h5 id="惰性载入函数">惰性载入函数</h5>
<blockquote>
<p>❝</p>
<p>函数内判断分支较多较复杂时可大大节约资源开销</p>
<p>❞</p>
</blockquote>
<pre><code class="language-js">function Func() {
    if (a === b) {
        console.log(&quot;x&quot;);
    } else {
        console.log(&quot;y&quot;);
    }
}
// 换成
function Func() {
    if (a === b) {
        Func = function() {
            console.log(&quot;x&quot;);
        }
    } else {
        Func = function() {
            console.log(&quot;y&quot;);
        }
    }
    return Func();
}
</code></pre>
<h5 id="检测非空参数">检测非空参数</h5>
<pre><code class="language-js">function IsRequired() {
    thrownewError(&quot;param is required&quot;);
}
function Func(name = IsRequired()) {
    console.log(&quot;I Love &quot; + name);
}
Func(); // &quot;param is required&quot;
Func(&quot;You&quot;); // &quot;I Love You&quot;
</code></pre>
<h5 id="字符串创建函数">字符串创建函数</h5>
<pre><code class="language-js">const Func = newFunction(&quot;name&quot;, &quot;console.log(\&quot;I Love \&quot; + name)&quot;);
</code></pre>
<h5 id="优雅处理错误信息">优雅处理错误信息</h5>
<pre><code class="language-js">try {
    Func();
} catch (e) {
    location.href = &quot;https://stackoverflow.com/search?q=[js]+&quot; + e.message;
}
</code></pre>
<h5 id="优雅处理asyncawait参数">优雅处理Async/Await参数</h5>
<pre><code class="language-js">function AsyncTo(promise) {
    return promise.then(data =&gt; [null, data]).catch(err =&gt; [err]);
}
const [err, res] = await AsyncTo(Func());
</code></pre>
<h5 id="优雅处理多个函数返回值">优雅处理多个函数返回值</h5>
<pre><code class="language-js">function Func() {
    returnPromise.all([
        fetch(&quot;/user&quot;),
        fetch(&quot;/comment&quot;)
    ]);
}
const [user, comment] = await Func(); // 需在async包围下使用
</code></pre>
<h3 id="dom-skill">DOM Skill</h3>
<h5 id="显示全部dom边框">显示全部DOM边框</h5>
<blockquote>
<p>❝</p>
<p>调试页面元素边界时使用</p>
<p>❞</p>
</blockquote>
<pre><code class="language-js">[].forEach.call($$(&quot;*&quot;), dom =&gt; {
    dom.style.outline = &quot;1px solid #&quot; + (~~(Math.random() * (1 &lt;&lt; 24))).toString(16);
});
</code></pre>
<h5 id="自适应页面">自适应页面</h5>
<blockquote>
<p>❝</p>
<p>页面基于一张设计图但需做多款机型自适应，元素尺寸使用<code>rem</code>进行设置</p>
<p>❞</p>
</blockquote>
<pre><code class="language-js">function AutoResponse(width = 750) {
    const target = document.documentElement;
    target.clientWidth &gt;= 600
        ? (target.style.fontSize = &quot;80px&quot;)
        : (target.style.fontSize = target.clientWidth / width * 100 + &quot;px&quot;);
}
</code></pre>
<h5 id="过滤xss">过滤XSS</h5>
<pre><code class="language-js">function FilterXss(content) {
    let elem = document.createElement(&quot;div&quot;);
    elem.innerText = content;
    const result = elem.innerHTML;
    elem = null;
    return result;
}
</code></pre>
<h5 id="存取localstorage">存取LocalStorage</h5>
<blockquote>
<p>❝</p>
<p>反序列化取，序列化存</p>
<p>❞</p>
</blockquote>
<pre><code class="language-js">const love = JSON.parse(localStorage.getItem(&quot;love&quot;));
localStorage.setItem(&quot;love&quot;, JSON.stringify(&quot;I Love You&quot;));
</code></pre>
<h3 id=""></h3>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">下一篇</div>
                <a href="https://herryle.github.io/101/" class="post-title gt-a-link">
                    MongoDB设置权限
                </a>
            </div>
        

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">万物之中，希望至美</div>
    <div class="social-container">
        
            
                <a href="https://github.com/herryle" target="_blank">
                    <i class="fab fa-github gt-c-content-color-first"></i>
                </a>
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a href="https://herryle.github.io/atom.xml" target="_blank">RSS</a>
</div>

<script>
    hljs.initHighlightingOnLoad()
</script>


    </div>
</div>
</body>
</html>
